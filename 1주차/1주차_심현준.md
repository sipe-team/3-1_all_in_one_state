# 1주차

## 상태관리를 사용해본 경험

취업 준비 시절 사이드프로젝트에서 recoil을 사용해본 경험이 있습니다.
상태관리 라이브러리 사용 경험이 거의 전무하다 싶었기에 당시 가장 채용 공고에 많이 보이는 기술 스택인
recoil을 골랐던 경험이 있지만, recoil을 통한 상태관리가 굉장히 편하다라는 느낌은 받지 못했습니다.
물론 보일러플레이트 코드가 부담되는 Redux보다는 경험이 좋았던 것 같습니다. 😊

## 선택한 라이브러리를 도입한 계기

클라이언트 전역상태 관리는 최대한 미니멀하게 가져가고, 서버 상태는 React Query로 분리해서
서로 관심사의 분리를 통한 유지 보수성 향상을 기대했습니다.

Zustand의 문법이 굉장히 간결하기 때문에 러닝커브가 높지 않았고, 비동기데이터 관련 처리는 React Query에 위임하므로써 복잡한 전역상태 관리로 인한 인지부하를 피할 수 있었습니다.

> 개인적인 의견으로는
> 상태관리는 최대한 미니멀하게 가져가고, 이로인한 인지부하와 리소스 낭비를 줄여 남는 에너지로 더 좋은 아키텍쳐 설계와 향상된 코드퀄리티를 목표하는 편이 좋다고 생각합니다.

## 클라이언트/서버 상태관리 분리를 어떻게 하고있는가?

-   클라이언트: Zustand
-   서버상태(data fetching) : React Query

Nextjs를 사용하는 프로젝트라면 서버사이드에서 전역상태를 초기값을 생성하는 경우를 고려해야합니다.
서버사이드 렌더링을 사용하지 않는 싱글페이지 애플리케이션이고, 전역상태 관리가 복잡할 필요가 없다면 create함수 사용 혹은 Context API 사용으로 충분할 것 같습니다.

1. 서버사이드에서 데이터 생성 (getServerSideProps, getInitialProps 등 )
2. 서버로부터 받은 데이터를 기반으로 zustand 전역상태를 생성
3. Provider를 통한 상태 공급
4. 서버에서 생성한 전역상태를 zustand의 useStore(store,selecor)훅으로 사용

-   기타 로컬에서 필요한 전역상태는 create함수를 활용하여 각 페이지마다 개별인 전역상태를 생성 (MPA인 nextjs 특성상 페이지를 새롭게 로드하면 전역상태가 초기화 되는 케이스를 유의해서 개발합니다.)
